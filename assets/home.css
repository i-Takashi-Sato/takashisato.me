/* =========================================================
   V60.1 — LECTER’S LOCK / CRUELLA’S BREACH (Analog Horror)
   - No digital scan
   - Script can bleed out (overflow visible)
   - Background stays contained (card-base hidden)
   ========================================================= */

body.home #archive .paper{
  position: relative;
  overflow: visible;          /* let the madness escape */
  isolation: isolate;         /* keep z-index wars local */
  transform-origin: 50% 45%;
  will-change: transform, box-shadow, background-color;
  transition:
    transform .42s cubic-bezier(.19,1,.22,1),
    box-shadow .35s ease,
    border-color .25s ease,
    background-color .25s ease;
}

/* Keep ONLY the background contained */
body.home #archive .card-base{
  position: absolute;
  inset: 0;
  overflow: hidden;           /* contains numeral + ink */
  pointer-events: none;
  z-index: 0;
  border-radius: inherit;     /* if you ever add radius later */
}
body.home #archive .work-bg-num{ z-index: 1; }

/* Cruella breach: dried-blood ink (NOT neon) */
body.home #archive .paper::after{
  content:"";
  position:absolute;
  inset:-1px;
  pointer-events:none;
  z-index: 2;                 /* above bg(0/1), below script/content */
  opacity: 0;
  transition: opacity .30s ease .10s;

  /* more organic: multiple stains, less “glow” */
  background:
    radial-gradient(800px 420px at 92% 88%,
      rgba(217,4,41,.16) 0%,
      rgba(217,4,41,0) 62%),
    radial-gradient(520px 300px at 18% 92%,
      rgba(120,0,12,.14) 0%,
      rgba(120,0,12,0) 60%),
    radial-gradient(420px 260px at 78% 22%,
      rgba(90,0,10,.10) 0%,
      rgba(90,0,10,0) 55%);
  mix-blend-mode: normal;     /* avoid neon “screen” */
}

/* Content always above */
body.home #archive .paper-title,
body.home #archive .paper-signal,
body.home #archive .k,
body.home #archive .actions{
  position: relative;
  z-index: 20;
}

/* Script: allowed to bleed out, but sits between bg and content */
body.home #archive .script-note{
  position: absolute;
  z-index: 12;
  pointer-events: none;
  will-change: transform, opacity;
  transition:
    transform .72s cubic-bezier(.19,1,.22,1),
    opacity .25s ease;
}

/* Hover: LOCK -> BREACH */
body.home #archive .paper:hover,
body.home #archive .paper.is-hovered,
body.home #archive .paper:focus-within{
  background: #0b0b0c;
  border-color: var(--accent);
  transform: scale(1.02) rotate(0deg) translateY(-6px) !important;

  /* physical, expensive, not “tech glow” */
  box-shadow:
    0 22px 80px rgba(0,0,0,.62),
    12px 12px 0 rgba(0,0,0,.52),
    -2px -2px 0 var(--accent);
}

/* Ink on */
body.home #archive .paper:hover::after,
body.home #archive .paper.is-hovered::after,
body.home #archive .paper:focus-within::after{
  opacity: 1;
}

/* Parallax: script lifts more than card */
body.home #archive .paper:hover .script-note,
body.home #archive .paper.is-hovered .script-note,
body.home #archive .paper:focus-within .script-note{
  opacity: 1;
  transform: translateY(-22px) scale(1.05) rotate(0deg) !important;
}

/* Button = stamp */
body.home #archive .pill{
  position: relative;
  z-index: 25;
  transform: translateY(0);
  transition: background-color .2s ease, border-color .2s ease, box-shadow .25s ease, transform .25s ease;
}
body.home #archive .paper:hover .pill,
body.home #archive .paper.is-hovered .pill,
body.home #archive .paper:focus-within .pill{
  background: var(--accent);
  border-color: var(--accent);
  color: #000;
  box-shadow: 6px 6px 0 #fff;
  transform: translateY(-2px);
}

/* Optional: isolation (guarded) */
@supports selector(:has(*)){
  body.home #archive:has(.paper:hover) .paper:not(:hover){
    opacity: .52;
    filter: grayscale(.75) contrast(.92);
    transform: scale(.992) rotate(0deg);
    transition: opacity .6s ease, filter .6s ease, transform .6s ease;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  body.home #archive .paper,
  body.home #archive .paper::after,
  body.home #archive .script-note,
  body.home #archive .pill{
    transition: none !important;
    transform: none !important;
    filter: none !important;
  }
}
