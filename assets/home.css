/* =========================================================
   HOME ONLY — V60 FINAL "THE EDITORIAL HACK"
   Concept: 
   1. Analog Horror (Red Bleed)
   2. High-Fashion Graffiti (Massive Script Overlay)
   3. Lecter's Order vs Cruella's Chaos
   ========================================================= */

body.home {
  /* --- Base Vars --- */
  --bg-void: #050505;
  --bg-stage: #080808;
  --surface:  #0E0E0E;

  --fg:       #E6E4E0;
  --fg-dim:   #949494;

  /* Accent: Arterial Red */
  --accent: #D90429;

  --line: rgba(255, 255, 255, 0.08);
  --line-strong: rgba(255,255,255,0.12);

  --font-serif: 'Cormorant Garamond', serif;
  --font-script: 'Pinyon Script', cursive;
  --font-sans:  'Inter', system-ui, -apple-system, sans-serif;
  --font-mono:  'JetBrains Mono', monospace;

  /* Physics */
  --ease-kinetic: cubic-bezier(0.2, 0.8, 0.2, 1);
  --ease-punk: cubic-bezier(0.1, 0.9, 0.2, 1.2);

  background-color: var(--bg-void);
  color: var(--fg);
  font-family: var(--font-sans);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
}

/* Selection: inverted */
body.home ::selection { background: #FFF; color: #000; }
body.home ::-moz-selection { background: #FFF; color: #000; }

/* =========================================================
   Noise layer
   ========================================================= */
body.home::after {
  content: "";
  position: fixed; inset: 0; pointer-events: none;
  z-index: 50;
  opacity: 0.035;
  mix-blend-mode: overlay;
  background: url("/assets/noise.webp") repeat;
  background-size: 280px 280px;
}

/* =========================================================
   Main stage
   ========================================================= */
body.home main {
  max-width: 1440px; margin: 0 auto; padding: 0 max(20px, 6vw);
  border-left: 1px solid var(--line); border-right: 1px solid var(--line);
  background-color: var(--bg-stage);
  min-height: 100vh;
  position: relative; z-index: 3;
}

/* =========================================================
   HERO
   ========================================================= */
body.home main > header { padding: 220px 0 120px; }

body.home main > header h1 {
  font-family: var(--font-serif);
  font-size: clamp(3.5rem, 9.5vw, 11rem);
  font-weight: 300; font-style: italic;
  line-height: 0.85; letter-spacing: -0.04em;
  margin: 0 0 80px;
}

body.home .who {
  font-family: var(--font-mono); font-size: 11px;
  color: var(--accent); letter-spacing: 0.15em;
  text-transform: uppercase; margin: 0 0 20px; display: block;
}

body.home .lead {
  font-family: var(--font-serif); font-size: 1.6rem; line-height: 1.4;
  border-left: 4px solid var(--accent); padding-left: 40px;
  max-width: 850px; margin: 0;
}

body.home .section-label {
  display: block; margin-top: 90px;
  font-family: var(--font-mono); font-size: 11px;
  letter-spacing: 0.25em; text-transform: uppercase; color: var(--fg-dim);
}

/* =========================================================
   ARCHIVE CARDS — V60 FINAL STRUCTURE
   ========================================================= */

body.home #archive .paper {
  display: grid;
  grid-template-columns: 1.6fr 1fr;
  grid-template-rows: auto 1fr;
  gap: 80px;

  position: relative;
  margin-top: 100px; margin-bottom: 60px;
  padding: 140px 50px;

  background: var(--surface);
  border: 1px solid var(--line);
  
  /* CRITICAL: Allow script and shadows to bleed out */
  overflow: visible;
  /* CRITICAL: Keep z-index wars contained inside the card */
  isolation: isolate;

  color: inherit;
  will-change: transform, background-color, border-color, box-shadow;
  
  transition: 
    transform 0.42s cubic-bezier(.19,1,.22,1),
    box-shadow 0.35s ease,
    border-color 0.25s ease,
    background-color 0.25s ease;

  z-index: 1;
}

/* Initial Tilt (The Broken Grid) */
body.home #archive .paper:nth-of-type(1) { transform: rotate(-1deg); width: 98%; margin-left: 1%; }
body.home #archive .paper:nth-of-type(2) { transform: rotate(1.5deg); width: 100%; margin-left: -2%; z-index: 2; }
body.home #archive .paper:nth-of-type(3) { transform: rotate(-0.5deg); width: 96%; margin-left: 4%; }

/* --- HOVER STATE: THE SNAP & BLEED --- */
body.home #archive .paper:hover,
body.home #archive .paper.is-hovered {
  /* 1. The Lock: Cold darkness */
  background: #0b0b0c;
  
  /* 2. The Breach: Red border */
  border-color: var(--accent);

  /* 3. Physics: Snap straight & Lift */
  transform: scale(1.02) rotate(0deg) translateY(-6px) !important;

  /* 4. Shadow: Hard, physical, expensive */
  box-shadow:
    0 22px 80px rgba(0,0,0,.6),
    12px 12px 0 rgba(0,0,0,.5),
    -2px -2px 0 var(--accent);
  
  z-index: 100;
}

/* --- LAYER: RED INK BLEED (Cruella's Blood) --- */
body.home #archive .paper::after {
  content: ""; position: absolute; inset: -1px;
  pointer-events: none; z-index: 8;
  opacity: 0;
  transition: opacity .30s ease .10s;

  /* Organic, blood-like gradient */
  background: radial-gradient(circle at 90% 90%, rgba(217,4,41,0.18) 0%, rgba(217,4,41,0) 65%);
  mix-blend-mode: screen;
}

body.home #archive .paper:hover::after,
body.home #archive .paper.is-hovered::after {
  opacity: 1;
}

/* =========================================================
   SCRIPT OVERLAY — "THE EDITORIAL HACK"
   Concept: High-fashion graffiti. Massive, overlapping, blended.
   ========================================================= */

body.home #archive .script-note {
  position: absolute;
  /* Visual Layer: On TOP of content */
  z-index: 30;
  pointer-events: none; /* Crucial: Allows clicking links underneath */

  font-family: var(--font-script);
  /* Massive Editorial Scale */
  font-size: clamp(9rem, 18vw, 22rem);
  line-height: 1;
  white-space: nowrap;
  
  /* Color & Blend */
  color: #E6E4E0;
  mix-blend-mode: exclusion;
  opacity: 0.8; 

  will-change: transform;
  transition: transform 0.5s var(--ease-punk), opacity 0.3s ease;
}

/* --- PART I: "Grand Design" ---
   Slashing upwards through the title */
body.home #archive .paper:nth-of-type(1) .script-note {
  font-size: clamp(10rem, 22vw, 26rem);
  top: 15%; left: -10%; right: auto; bottom: auto;
  transform: rotate(-15deg) translateY(0);
}

/* --- PART II: "Silent Rot" ---
   Heavy bottom drag */
body.home #archive .paper:nth-of-type(2) .script-note {
  font-size: clamp(11rem, 24vw, 28rem);
  top: auto; bottom: -15%; left: -5%; right: auto;
  transform: rotate(-5deg) translateX(0);
}

/* --- PART III: "Requiem" ---
   The Centerpiece Signature */
body.home #archive .paper:nth-of-type(3) .script-note {
  font-size: clamp(14rem, 28vw, 32rem);
  top: 40%; left: 50%; right: auto; bottom: auto;
  margin-left: -10vw; 
  transform: translate(-50%, -50%) rotate(-8deg);
}

/* --- HOVER ANIMATION: PARALLAX LIFT --- */
body.home #archive .paper:nth-of-type(1):hover .script-note {
  transform: rotate(-18deg) translateY(-30px) scale(1.05); opacity: 1;
}
body.home #archive .paper:nth-of-type(2):hover .script-note {
  transform: rotate(0deg) translateX(20px) scale(1.05); opacity: 1;
}
body.home #archive .paper:nth-of-type(3):hover .script-note {
  transform: translate(-50%, -50%) rotate(0deg) scale(1.1); opacity: 1;
}


/* =========================================================
   INTERNAL CONTENT
   ========================================================= */

/* Link Surface */
body.home #archive .paper .stretched-link { z-index: 1; }

/* Numeral Base (Behind everything) */
body.home #archive .card-base {
  position: absolute; inset: 0; overflow: hidden; pointer-events: none; z-index: 0;
}
body.home #archive .work-bg-num {
  position: absolute; right: -20px; top: 50%;
  transform: translate3d(0, -45%, 0);
  font-family: var(--font-serif); font-style: italic; font-weight: 300;
  font-size: clamp(14rem, 25vw, 30rem); line-height: 0.7; letter-spacing: -0.05em;
  opacity: 0.08; color: #FFF; mix-blend-mode: overlay;
  transition: opacity 0.3s ease, color 0.3s ease;
}
body.home #archive .paper:hover .work-bg-num { color: var(--accent); opacity: 0.2; }

/* Text Content (Safe Z-Index) */
body.home #archive .paper-title,
body.home #archive .paper-signal,
body.home #archive .k,
body.home #archive .actions {
  position: relative;
  z-index: 20; /* Below Script(30), Above Bleed(8) */
}

/* Title */
body.home #archive .paper-title { margin: 0; }
body.home #archive .paper-title a {
  font-family: var(--font-sans);
  font-size: clamp(2.8rem, 5.5vw, 6rem);
  font-weight: 600; line-height: 0.95;
  letter-spacing: -0.04em; text-transform: uppercase;
  color: var(--fg); text-decoration: none;
}

/* Signal / Quote */
body.home #archive .paper-signal {
  font-family: var(--font-serif); font-style: italic;
  font-size: clamp(1.4rem, 2.2vw, 1.9rem); line-height: 1.4;
  color: var(--fg-dim);
  border-left: 2px solid var(--accent);
  padding-left: 30px; margin: 40px 0 0;
}

/* Keywords */
body.home #archive .k {
  border: none; padding: 0; margin: 0; background: none;
  font-family: var(--font-mono); font-size: 11px;
  text-transform: uppercase; letter-spacing: 0.1em; color: var(--fg-dim);
  display: flex; flex-direction: column; align-items: flex-end; text-align: right;
}
body.home #archive .k span { color: var(--accent); font-weight: 700; opacity: 1; }

/* Actions */
body.home #archive .actions {
  display: flex; justify-content: flex-end; align-items: flex-end;
}
body.home #archive .pill {
  display: inline-flex; align-items: center; justify-content: center;
  font-family: var(--font-mono); font-size: 11px; font-weight: 700;
  letter-spacing: 0.2em; padding: 22px 44px; min-width: 200px;
  border: 1px solid var(--fg); background: transparent; color: var(--fg);
  text-decoration: none; transition: all 0.2s ease; line-height: 1;
  position: relative; z-index: 35; /* Above script if needed */
}

body.home #archive .paper:hover .pill,
body.home #archive .paper.is-hovered .pill {
  background: var(--accent); border-color: var(--accent);
  color: #000; box-shadow: 5px 5px 0px #FFF;
}

/* =========================================================
   CURSOR GLOW
   ========================================================= */
body.home #cursor-glow {
  position: fixed; left: 0; top: 0; width: 80vw; height: 80vw;
  margin-left: -40vw; margin-top: -40vw;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.04) 0%, rgba(255, 255, 255, 0) 60%);
  pointer-events: none; z-index: 2;
  transform: translate3d(var(--mouse-x), var(--mouse-y), 0);
  opacity: 0; transition: opacity 0.35s var(--ease-kinetic);
  will-change: transform; mix-blend-mode: exclusion;
}
body.home.glow-active #cursor-glow { opacity: 1; }

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 900px) {
  body.home main > header { padding: 160px 0 90px; }

  body.home #archive .paper {
    grid-template-columns: 1fr; grid-template-rows: auto auto auto;
    gap: 50px; padding: 100px 24px; margin-bottom: 40px;
    transform: none !important; width: auto; margin-left: 0; margin-right: 0;
  }
  
  body.home #archive .k, body.home #archive .actions {
    align-items: flex-start; text-align: left; justify-content: flex-start;
  }
  body.home #archive .pill { width: 100%; min-width: 0; text-align: center; }

  /* Script Mobile Adjustments */
  body.home #archive .script-note {
    font-size: clamp(6rem, 15vw, 10rem);
    mix-blend-mode: normal; opacity: 0.5;
  }
  body.home #archive .paper:nth-of-type(1) .script-note {
    top: 5%; left: -5%; transform: rotate(-10deg);
  }
  body.home #archive .paper:nth-of-type(2) .script-note {
    bottom: 5%; left: -5%; transform: rotate(-5deg);
  }
  body.home #archive .paper:nth-of-type(3) .script-note {
    top: auto; bottom: 10%; left: 0; margin-left: 0; 
    transform: rotate(-5deg);
  }
}

@media (prefers-reduced-motion: reduce) {
  body.home::after, body.home #cursor-glow { opacity: 0 !important; }
  body.home #archive .paper, body.home #archive .pill, body.home #archive .script-note {
    transition: none !important; transform: none !important; box-shadow: none !important;
  }
}
